language: cpp
sudo: required

addons:
  apt:
    sources:
      - llvm-toolchain-trusty-5.0
    packages:
      - clang-5.0

before_install:
# Update cmake
- wget -O cmake.sh https://cmake.org/files/v3.10/cmake-3.10.0-rc1-Linux-x86_64.sh
- sudo sh cmake.sh --skip-license --exclude-subdir --prefix=/usr/local
- sudo add-apt-repository ppa:beineri/opt-qt594-trusty
- sudo add-apt-repository ppa:mhier/libboost-latest
- sudo apt-get update -qq

install:
- sudo apt-get install -qq libboost
- sudo apt-get install -qq qt59-meta-minimal
- QT_ENV_SCRIPT=$(find /opt -name 'qt*-env.sh')
- source $QT_ENV_SCRIPT
- export CXX="clang++-5.0"
- export CXX_FLAGS="-Wall -pedantic -Werror

before_script:
- mkdir -p build
- cd build
- cmake ..

script:
- make